<!DOCTYPE html>
<html>
<head>
	<title>Tris Game</title>
	<meta charset="UTF-8">
	<!-- CSS -->
	<style>
		/* Style of the grid */
		.trisgrid {
			width:168px;
			height:168px;
			padding:0px;
			border:1px solid black;
			margin:3px;
		}
		/* Style of every grid's box */
		.trisgrid>div {
			/* Dimensioning and positioning properties */
			width:50px;
			height:50px;
			padding:1px;
			border:1px solid black;
			margin:1px;
			float:left;
			/* Appearance properties */
			text-align:center;
			font:40px sans-serif;
		}
	</style>
	<!-- JQuery  -->
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<!-- JQuery functions and variables -->
	<script>
		var userToken = "X", computerToken = "O";
		var trisGrid = new Array();
		var combinationsOfTrisBoxes = [ [0,1,2], [3,4,5], [6,7,8], [0,3,6], [1,4,7], [2,5,8], [0,4,8], [2,4,6] ];
		function computerEngine() {
			// Fill the first box that's empty
			var aBoxIsFilled = false;
			for (var i = 0; i<9; i++) {
				if (trisGrid[i] == undefined) {
					fillABox(computerToken,i,"box"+i);
					aBoxIsFilled = i;
					i = 9;
				}
			}
			if (isThereTris(computerToken) == true)
				return true;
		}
		function isThereTris(token) {
			for (var i = 0; i<combinationsOfTrisBoxes.length; i++) {
				if (trisGrid[combinationsOfTrisBoxes[i][0]] == token && trisGrid[combinationsOfTrisBoxes[i][1]] == token && trisGrid[combinationsOfTrisBoxes[i][2]] == token) {
					return true;
				}
			}
		}
		function fillABox(token,boxIndex,boxIndexString) {
			$("div > ." + boxIndexString).html(token);
			trisGrid[boxIndex] = token;
		}
	</script>
	<!-- JQuery TRIS ENGINE -->
	<script>
		$(document).ready(function(){
		var hasHappenedATris = false;
			$("div > div").click(function(){
				if (hasHappenedATris == false) {
					var boxIndexString = $(this).attr("class");
					var boxIndex = boxIndexString[3];
					if (trisGrid[boxIndex] == undefined) {
						fillABox(userToken,boxIndex,boxIndexString);
						var isThereATris = isThereTris(userToken);
						if (isThereATris == true) {
							alert("You Win!");
							hasHappenedATris = true;
						}
						else {
							if (computerEngine() == true) {
								alert("You lost!");
								hasHappenedATris = true;
							}
						}
					}
				}
			});
		});
	</script>
</head>
<body>

	<div class="trisgrid">
		<div class="box0"></div>
		<div class="box1"></div>
		<div class="box2"></div>
		<div class="box3"></div>
		<div class="box4"></div>
		<div class="box5"></div>
		<div class="box6"></div>
		<div class="box7"></div>
		<div class="box8"></div>
	</div>

</body>
